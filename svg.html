<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style media="screen">
        	body {
        		background: #fff;
        	}
        </style>

    	<script src="js/snap.svg-min.js"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    	
    </head>
    <body>
<div style="text-align:center">
    <svg width="800" height="600">
    <linearGradient id="lg1" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent1" stop-opacity="1" stop-color="royalblue"/>

      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>

    <linearGradient id="lg2" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent2" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>

    <linearGradient id="lg3" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent3" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>
    
    <linearGradient id="lg4" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent4" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>
    <linearGradient id="lg5" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent5" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>
    <linearGradient id="lg6" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent6" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>
    <linearGradient id="lg7" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent7" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>
    <linearGradient id="lg8" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent8" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>
    <linearGradient id="lg9" x1="0.5" y1="1" x2="0.5" y2="0">
      <stop offset="0%" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" id="percent9" stop-opacity="1" stop-color="royalblue"/>
      <stop offset="0%" stop-opacity="0" stop-color="royalblue"/>
      <stop offset="100%" stop-opacity="0" stop-color="royalblue"/>
    </linearGradient>

    <g>
    <circle id="cicle1" cx="100" cy="100" r="80" stroke="black" stroke-width="3" fill="url(#lg1)" />
    <text id="label1" x="100" y="100" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>

    <g>
    <circle id="cicle2" cx="280" cy="100" r="80" stroke="black" stroke-width="3" fill="url(#lg2)" />
    <text id="label2" x="280" y="100" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>

    <g>
    <circle id="cicle3" cx="460" cy="100" r="80" stroke="black" stroke-width="3" fill="url(#lg3)" />
    <text id="label3" x="460" y="100" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>
    
    <g>
    <circle id="cicle4" cx="100" cy="300" r="80" stroke="black" stroke-width="3" fill="url(#lg4)" />
    <text id="label4" x="100" y="300" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>

    <g>
    <circle id="cicle5" cx="280" cy="300" r="80" stroke="black" stroke-width="3" fill="url(#lg5)" />
    <text id="label5" x="280" y="300" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>

    <g>
    <circle id="cicle6" cx="460" cy="300" r="80" stroke="black" stroke-width="3" fill="url(#lg6)" />
    <text id="label6" x="460" y="300" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>
    
    <g>
    <circle id="cicle7" cx="100" cy="500" r="80" stroke="black" stroke-width="3" fill="url(#lg7)" />
    <text id="label7" x="100" y="500" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>

    <g>
    <circle id="cicle8" cx="280" cy="500" r="80" stroke="black" stroke-width="3" fill="url(#lg8)" />
    <text id="label8" x="280" y="500" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>

    <g>
    <circle id="cicle9" cx="460" cy="500" r="80" stroke="black" stroke-width="3" fill="url(#lg9)" />
    <text id="label9" x="460" y="500" text-anchor="middle" stroke="red"  stroke-width="3px" font-size="30px" dy="0em">0</text>
    </g>



    </svg>
</div>
    <script>
    
    $(document).ready(function () {
        $.urlParam = function(name){
    var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
    if (results==null){
       return null;
    }
    else{
       return results[1] || 0;
    }
};
        function setFill(objectId, label){
    		var percent = label;
    		$("#percent"+objectId).attr("offset", percent);
    		$("#label"+objectId).text(label);

    	};
    	$.ajaxSetup({ cache: false });
    	
    	var jsonurl = "giatri.json";
    	if($.urlParam('jsonurl')){
    	    jsonurl = $.urlParam('jsonurl');
    	}
    	
    	setInterval(function(){
    	 
    	$.getJSON(jsonurl, function( data ) { 
    	    
    		$.each( data, function( key, val ) {
    			setFill(key, val);
    		    
    		    
  			});
  			
    	});
    	
    	console.log("key");
    	},3000);
    

    });


    </script>

    </body>
</html>
